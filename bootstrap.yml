- hosts: all
  become: yes
  roles:
    - system/setup-skel
    - system/setup-dependencies
    - { role: system/setup-zerotier, network_id: "83048a06326833ff" }
    - { role: system/setup-known-hosts, keyscan_host: "{{ domain }}" }
    - { role: system/setup-known-hosts, keyscan_host: "github.com" }
    - { role: system/setup-known-hosts, keyscan_host: "gitlab.com" }
    - { role: system/setup-keys, key_user: "consul", key_group: "domus" }
    - { role: system/setup-keys, key_user: "diabolus", key_group: "arcanum" }
    - { role: system/setup-keys, key_user: "dimitris" }
    - { role: system/setup-keys, key_user: "fofi" }
    - { role: system/setup-keys, key_user: "manolis" }
    - { role: system/setup-keys, key_user: "petrina" }
    - { role: system/setup-keys, key_user: "theoni" }

- hosts: desktop
  become: yes
  roles:
    - system/setup-ldap-client

- hosts: all
  become: yes
  roles:
    - system/setup-thirdparty

- hosts: all
  become: yes
  become_user: dimitris
  roles:
    - user/setup-dotfiles

- hosts: all
  become: yes
  become_user: consul
  roles:
    - user/setup-dotfiles
