- name: create domus directory
  file:
    name: "{{ thirdparty }}"
    group: "{{ thirdparty_group }}"
    mode: '0775'
    state: directory

- name: clone dotfiles
  git:
    repo: https://github.com/DictumMortuum/dotfiles.git
    dest: "{{ thirdparty }}/dotfiles"
    update: yes
  become_user: "{{ thirdparty_user }}"

- name: copy dotctl to /usr/local/
  copy:
    src: "{{ thirdparty }}/dotfiles/.config/bin/dotctl"
    dest: /usr/local/bin/dotctl
    mode: "0755"
    remote_src: yes

- name: clone pure
  git:
    repo: https://github.com/sindresorhus/pure.git
    dest: "{{ thirdparty }}/pure"
    update: yes
  become_user: "{{ thirdparty_user }}"

- name: clone zsh-async
  git:
    repo: https://github.com/mafredri/zsh-async.git
    dest: "{{ thirdparty }}/zsh-async"
    update: yes
  become_user: "{{ thirdparty_user }}"

- name: clone zsh-syntax-highlighting
  git:
    repo: https://github.com/zsh-users/zsh-syntax-highlighting.git
    dest: "{{ thirdparty }}/zsh-syntax-highlighting"
    update: yes
  become_user: "{{ thirdparty_user }}"
